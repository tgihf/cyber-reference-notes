# Basic Stack-Based Buffer Overflow

---

## Methodology

1. Confirm you can overflow the buffer and overwrite the instruction pointer
2. Determine the offset from the beginning of your payload to where it overwrites the instruction pointer
	1. Send a payload of unique character combinations
		- Metasploit's `pattern_create.rb`
	2. Determine the character combination that overwrote the instruction pointer
	3. Find the offset within the payload of this combination
		- Metasploit's `pattern_offset.rb`
3. Confirm you can precisely overwrite the instruction pointer using this offset
4. In a debugger, examine the state of the program just after overflowing the buffer
	- Identify registers that **point to** portions of your payload
5. Attempt to find instructions within the program or its libraries that allow you to jump to the address within these registers
6. Out of the registers from #4, choose the one whose address you'll jump to and note its corresponding address from #5
7. Ensure you can overwrite the instruction pointer with the address from #6 and jump into your payload
8. Identify bytes that won't survive the exploitation process due to the way the program handles user input (AKA "bad bytes", often `0x00`, `0x0a`, and `0x0d`)
9. Generate or craft shellcode, excluding the bytes from #8
10. Incorporate shellcode into the section of payload you can jump into from #7
11. Test the exploit
	- Note that reverse shell shellcode often doesn't work when the program is attached to a debugger

# Binary Protection Mechanisms

> Gone are the days of simply overwriting the instruction pointer and jumping into your shellcode. Several protection mechanisms exist to prevent this from happening.

---

## Determine a Binary's Protection Mechanisms

```bash
checksec $PATH_TO_BINARY
```

### References

[checksec](https://github.com/slimm609/checksec.sh)

---

## Data Execution Prevention (DEP) / No Execute (NX)

Prevents code execution in sections of memory (often including the stack) that are marked as non-executable.

### References

[Microsoft - DEP/NX Protection](https://docs.microsoft.com/en-us/windows/win32/win7appqual/dep-nx-protection#:~:text=This%20option%20is%20also%20referred,is%20marked%20as%20non%2Dexecutable.)

---

## SafeSEH

TODO

---

## Address Space Layout Randomization

Randomizes the base address of the stack, heap, and shared library memory sections.

ASLR is a kernel-level setting. Its presence is completely dependent on the environment the binary is running in (as opposed to PIE).

---

## Position Independent Execution (PIE)

Randomizes the base address of the executable's code memory section.

PIE is a binary-level setting. AKA, you can compile a binary with PIE. As such, it doesn't depend on the environment (unlike ASLR).

---

## Stack Canary

A per-execution random string of bytes placed just before the return address in each function's stack frame. Before the function returns, it will check to ensure the canary hasn't been overwritten (by a stack-based buffer overflow). If it has, the program will exit.

A stack canary is a binary-level setting. AKA, you can compile a binary with a stack canary. It doesn't depend on the environment (unlike ASLR).

See [[stack-canary-bypasses|here]] for a methodology on bypassing stack canary protection.

### References

[YouTube - Modern Binary Exploitation by Boston Cybernetics](https://www.youtube.com/watch?v=Xt3eWaplMd0)

CCTC Security's `inventory2`

---

## RELRO

TODO
